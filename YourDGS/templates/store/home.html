{% extends "base.html" %}
{% load static %}
{% block title %} Home {% endblock title %}




{% block content %}


<!-- Carasoul -->

<head>

</head>


<!-- <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel" >
    <div class="carousel-inner" >
      <div class="carousel-item active">
        <img src= "{% static 'images/b3.png' %}" class="d-block w-100" alt="...">
      </div>

        <div class="carousel-item">
        <img src="{% static 'images/frb.png' %}"  class="d-block w-100" alt="...">
      </div>

      <div class="carousel-item">
        <img src="{% static 'images/b7.png' %}"  class="d-block w-100" alt="...">
      </div>
        <div class="carousel-item">
        <img src="{% static 'images/b5.png' %}"  class="d-block w-100" alt="...">
      </div>
              <div class="carousel-item">
        <img src="{% static 'images/b2.png' %}"  class="d-block w-100" alt="...">
      </div>

        <div class="carousel-item">
        <img src="{% static 'images/b1.jpg' %}"  class="d-block w-100" alt="...">
      </div>


    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div> -->

<!-- UPPER PART Close -->
<section>
  <!-- <head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head> -->

  <div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="{% static 'images/bnr4.png' %}" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="{% static 'images/bnr5.jpg' %}" class="d-block w-100" alt="...">
      </div>
      <div class="carousel-item">
        <img src="{% static 'images/bnr3.png' %}" class="d-block w-100" alt="...">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</section>
<br>
<br>
<br>



<div class="container">
  <div class="row">


    <div class="col-sm-3">
      {% if subcatagoriesname %}
      <ul class="list-group mt-3" style="font-size: 1.2rem;">
        <li class="list-group-item active bg-secondary border-0">
          <h2 class="">Sub-Catagories</h2>
        </li>
        {% for subcatagory in subcatagoriesname %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <a href="{{subcatagory.get_url}}">{{subcatagory.name}}</a>

          <span class="badge bg-primary rounded-pill">{{subcatagory.product_count}}</span>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <ul class="list-group mt-5 " style="font-size: 1.2rem;">
        <li class="list-group-item active bg-secondary border-0">
          <h2>Catagories</h2>
        </li>
        {% for categories in links%}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <a style="color: black;" href="{{categories.get_url}}">{{categories.category_name}}</a>
          <span class="badge bg-primary rounded-pill">{{categories.product_count}}</span>
        </li>
        {% endfor %}
      </ul>
      {% endif %}


      <div class="mt-5">

        <br>
        <br>


        <form action="{{products.get_url2}}" method="POST" class="text-primary" style="font-size: 1.2rem">
          {% csrf_token %}
          <!-- Section: Price -->
          <section class="mb-4" filter="price">
            <h2 class="font-weight-bold mb-3 text-center">Product Price</h2>

            <div class="form-check pl-0 mb-3">
              <input price="0-25" type="radio" class="filter-option form-check-input" id="under25"
                name="materialExampleRadios" value="1" required />
              <label class="form-check-label small text-uppercase card-link-secondary" for="under25">Under 50tk</label>
            </div>
            <div class="form-check pl-0 mb-3">
              <input price="25-50" type="radio" class="filter-option form-check-input" id="2550"
                name="materialExampleRadios" value="2" required />
              <label class="form-check-label small text-uppercase card-link-secondary" for="500">500tk</label>
            </div>
            <div class="form-check pl-0 mb-3">
              <input price="50-100" type="radio" class="filter-option form-check-input" id="50100"
                name="materialExampleRadios" value="3" required />
              <label class="form-check-label small text-uppercase card-link-secondary" for="1000">1000tk</label>
            </div>
            <div class="form-check pl-0 mb-3">
              <input price="100-200" type="radio" class="filter-option form-check-input" id="100200"
                name="materialExampleRadios" value="4" required />
              <label class="form-check-label small text-uppercase card-link-secondary" for="10020">10000tk</label>
            </div>
            <div class="form-check pl-0 mb-3">
              <input price="200-*" type="radio" class="filter-option form-check-input" id="200above"
                name="materialExampleRadios" value="5" required />
              <label class="form-check-label small text-uppercase card-link-secondary" for="200above">1 Lakh &
                Above</label>
            </div>
          </section>
          <button type="submit" class="btn btn-danger mb-5" style="font-size: 1.3rem"> Filter </button>
          <!-- Section: Price -->
        </form>

      </div>
    </div>

    <div class="col-sm-9">
      <div class="row">

        {% if 'search' in request.path %}
        {% if product_count %}
        <h1 class="text-center text-danger fw-bolder ">{{product_count}} Products Found</h1>
        {% endif %}
        {% endif %}


        {% if products %}
        <!-- card -->
        {% for product in products %}

        <div class="card  mx-auto mt-5 shadow" style="width: 15rem;font-size: 1.5rem">
          <a href="{{product.get_url}}">
            <img src="{{product.image.url}}" class="img-fluid" style="height: 10rem" alt="none" />

            <div class="card-body">
              <h5 class="card-title fw-bolder" style="color: rgb(202, 16, 16);font-weight: bold ; font-size:1.5rem">
                {{product.product_name}}</h5>
              <p class="card-text text-black"><b>Price: <small class=" text-black">{{product.price}}</small> TK</b></p>
              {% if product.stock <= 0 %} <a href="{{product.get_url}}" class="btn btn-secondery  d-block"
                style="font-size: 1rem;">Out Of Stock
          </a>
          {% else %}

          <a href="{{product.get_url}}" class="btn btn-danger d-block " style="font-size: 1rem; ">View Details</a>
          {% endif %}
        </div>
        </a>
      </div>

      {% endfor %}
      <!-- card close  -->
      {% else %}
      <div class="mt-5 ">
        <h1 class="text-center mt-5 text-danger ">NO PRODUCT FOUND</h1>
      </div>
      {% endif %}


    </div>

    <!--    pagination-->
    {% if products %}
    <div class="mt-5 ">
      <ul class="pagination pagination-circle justify-content-center pagination-lg">
        {% if products.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ products.previous_page_number }}" tabindex="-1"
            aria-disabled="false">Previous</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
        </li>
        {% endif %}


        {% for i in products.paginator.page_range %}
        <li class="page-item {% if products.number == i %}active{% endif %}" aria-current="page">
          <a class="page-link" href="?page={{i}}"> {{i}} </a>
        </li>
        {% endfor %}


        {% if products.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ products.next_page_number }}">Next</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#">Next</a>
        </li>
        {% endif %}

      </ul>
    </div>
    {% endif %}

  </div>

</div>

</div>

<!-- about section ends -->

<!-- menu section starts  -->







{% endblock content%}